<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>45. Jump Game II | 10K&#39;s</title>
<link rel="shortcut icon" href="https://10kshuaizhang.github.io/favicon.ico?v=1687157630552">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://10kshuaizhang.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="45. Jump Game II | 10K&#39;s - Atom Feed" href="https://10kshuaizhang.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-L6PETZ11Z8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L6PETZ11Z8');
</script>


    <meta name="description" content="Title
This problem is a continuation of the previous problem, Jump Game 44, where the previous problem was to find out i..." />
    <meta name="keywords" content="Greedy algorithm,LeetCode" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://10kshuaizhang.github.io">
  <img class="avatar" src="https://10kshuaizhang.github.io/images/avatar.png?v=1687157630552" alt="">
  </a>
  <h1 class="site-title">
    10K&#39;s
  </h1>
  <p class="site-description">
    Shortcuts are the farthest path, so you must write and think honestly, which is the basic requirement for progress.
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          Home
        </a>
      
    
      
        <a href="/archives" class="menu">
          Archive
        </a>
      
    
      
        <a href="/post/about" class="menu">
          About
        </a>
      
    
      
        <a href="/tags" class="menu">
          Tags
        </a>
      
    
      
        <a href="/post/books" class="menu">
          Books
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/10kshuaizhang" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
        <a href="https://twitter.com/jason278642682" target="_blank">
          <i class="ri-twitter-line"></i>
        </a>
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              45. Jump Game II
            </h2>
            <div class="post-info">
              <span>
                2023-03-26
              </span>
              <span>
                4 min read
              </span>
              
                <a href="https://10kshuaizhang.github.io/tag/xldsVr9iS/" class="post-tag">
                  # Greedy algorithm
                </a>
              
                <a href="https://10kshuaizhang.github.io/tag/4zkg5-iEk/" class="post-tag">
                  # LeetCode
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <h2 id="title">Title</h2>
<p>This problem is a continuation of the previous problem, Jump Game 44, where the previous problem was to find out if it is possible to reach the end, while the current problem is to calculate the minimum number of steps needed (under the premise that he must reach the last index).</p>
<h2 id="algorithm">Algorithm</h2>
<p>This is a simple question at first, thinking that each step is maximized and the number of steps taken at the end is the answer, which is obviously undesirable, because you may skip a node with a long step at a certain step. For example nums = [2,3,1,1,4], if you follow my algorithm, 2-1-1-4 takes three steps, but if you go to the node 3, 2-3-4 only takes 2 steps, so obviously there is something wrong with my previous algorithm.</p>
<p>Then I wondered if I should go through the nodes one by one, but I didn't find a good way to keep track of the minimum number of steps in this place. So my previous problem was actually how to traverse the elements while still making sure that I could record the maximum number of steps per hop correctly and clearly.</p>
<p>Define a far or maxReach that records the farthest distance that can be traveled with each jump, then our traversal endpoint is here; after reaching this endpoint, the number of steps is added by one. This represents the farthest distance that can be reached in one jump. Then we continue the traversal, re-record the farthest distance of the next far, and find the end of the next jump. Just follow this logic to the end.</p>
<p>Just return the result in the end.</p>
<h2 id="code">Code</h2>
<pre><code class="language-java">class Solution {
    public int jump(int[] nums) {
        int res = 0.
        int end = 0.
        int far = 0.
        for (int i = 0; i &lt; nums.length - 1; i++) {
            far = Math.max(far, nums[i] + i).
            if (i == end) {
                res++.
                end = far.
            }
        }
        return res.
    }
}
</code></pre>
<hr>
<h2 id="题目">题目</h2>
<p>这个题目是上一个题目44题Jump Game的延续，之前的题目只是让求是否可以到达最后即可，而当前题目让计算最少需要几步（在保证他一定可以到达最后一个index的前提下）。</p>
<h2 id="算法">算法</h2>
<p>这个题目一开始想简单了，就是想着每一步最大化，到终点时走的步数就是就是答案，这明显是不可取的，因为你可能在某一步的时候跳过一个步长很长的节点。例如nums = [2,3,1,1,4]，如果按照我这个算法，2-1-1-4需要三步，其实如果走到3这个节点的话，2-3-4只需要2步，那明显我的之前的算法就有一些问题。</p>
<p>然后我又想 那是不是要一个个去走那些节点，但是这个地方我并没有找到一个好的方式去记录最少步数。所以我之前的问题其实是如何在遍历元素的同时，还能确保能够正确清晰的记录每次跳的最大步数。</p>
<p>定义一个far或者叫maxReach，记录更新每次跳能够走到的最远距离，那么我们这次的遍历终点end就在这里；到达这个终点后，步数加一。这里代表的是一次跳跃到了最远距离。然后我们继续遍历，重新记录下一次的far最远距离，找到下一跳的终点。按照这个逻辑走到最后即可。</p>
<p>最终返回结果即可。</p>
<h2 id="代码">代码</h2>
<pre><code class="language-java">class Solution {
    public int jump(int[] nums) {
        int res = 0;
        int end = 0;
        int far = 0;
        for (int i = 0; i &lt; nums.length - 1; i++) {
            far = Math.max(far, nums[i] + i);
            if (i == end) {
                res++;
                end = far;
            }
        }
        return res;
    }
}
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#title">Title</a></li>
<li><a href="#algorithm">Algorithm</a></li>
<li><a href="#code">Code</a></li>
<li><a href="#%E9%A2%98%E7%9B%AE">题目</a></li>
<li><a href="#%E7%AE%97%E6%B3%95">算法</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81">代码</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://10kshuaizhang.github.io/post/system-design-case-study-3-design-a-key-value-store/">
              <h3 class="post-title">
                System Design Case Study 3 - Design A Key Value Store
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '3f6a89270d2a0e51772d',
    clientSecret: '58f2d7ec868483233a31553fa6235f2efd1df763',
    repo: '10kshuaizhang.github.io',
    owner: '10kshuaizhang',
    admin: ['10kshuaizhang'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  
  <a class="rss" href="https://10kshuaizhang.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
